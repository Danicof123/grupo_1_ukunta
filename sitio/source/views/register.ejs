<!DOCTYPE html>
<html lang="es">
    <%- include('partials/head') %>

    <body class="register f-display f-main-y minvh-100">
        <%- include('partials/mini-header') %>

        <div class="container f-main-center f-grow-1">
            <div class="mb-12 lp-6 f-main-y f-cross-center">
                <h3 class="f-self-start my-4">REGISTRO</h3>

                <form class="w-100 mbt-4 form-register" method="POST" action="/users/register">
                    <!-- Nombre -->
                    <label for="name" class="reg__date__age">Ingrese su nombre:</label>
                    <label for="name" class="text-danger"><%= locals.errors && locals.errors.name ? errors.name.msg : null %> </label>
                    <div class="reg__ctrl-input mbt-4">
                        <input
                            type="text"
                            placeholder="*Nombre"
                            name="name"
                            class="reg__input"
                            value="<%= (locals && locals.errors) ? old.name : null %>"
                            pattern="^[A-Za-zñÑáÁéÉiÍóÓúüÚÜ]{2,20}(\s+[A-Za-zñÑáÁéÉiÍóÓúüÚÜ]{2,20}){0,2}$"
                            title="El nombre es obligatorio, debe tener al menos 2 caracteres y un máximo de 20"
                            required
                        />
                    </div>

                    <!-- Apellido -->
                    <label for="lastname" class="reg__date__age">Ingrese su apellido:</label>
                    <label for="lastname" class="text-danger"><%= locals.errors && locals.errors.lastname ? errors.lastname.msg : null %> </label>
                    <div class="reg__ctrl-input mbt-4">
                        <input
                            type="text"
                            placeholder="*Apellido"
                            class="reg__input"
                            name="lastname"
                            value="<%= (locals && locals.errors) ? old.lastname : null %>"
                            pattern="^[A-Za-zñÑáÁéÉiÍóÓúüÚÜ]{2,20}(\s+[A-Za-zñÑáÁéÉiÍóÓúüÚÜ]{2,20}){0,2}$"
                            title="El apellido es obligatorio, debe tener al menos 2 caracteres y un máximo de 20"
                            required
                        />
                    </div>

                    <!-- Fecha nacimiento -->
                    <label for="datebirth" class="text-danger"><%= locals.errors && locals.errors.datebirth ? errors.datebirth.msg : null %></label>
                    <div class="row my-0 f-cross-center my-4">
                        <div class="mb-6">
                            <label for="datebirth" class="reg__date__age">Fecha de nacimiento +18*</label>
                        </div>
                        <div class="mb-6">
                            <div class="reg__ctrl-input">
                                <input
                                    type="date"
                                    class="reg__input"
                                    name="datebirth"
                                    id="inp-date"
                                    value="<%= (locals && locals.errors) ? old.datebirth : null %>"
                                    pattern="^([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))$"
                                    title="Formato de fecha invalido."
                                    required
                                />
                            </div>
                        </div>
                    </div>

                    <!-- dni -->
                    <label for="lastname" class="reg__date__age">Ingrese su DNI:</label>
                    <label for="dni" class="text-danger"><%= locals.errors && locals.errors.dni ? errors.dni.msg : null %></label>
                    <div class="reg__ctrl-input mbt-4">
                        <input
                            type="number"
                            placeholder="*dni"
                            class="reg__input"
                            name="dni"
                            value="<%= (locals && locals.errors) ? old.dni : null %>"
                            pattern="^[1-9][0-9]{7}$"
                            title="Ingrese un DNI válido."
                            required
                        />
                    </div>

                    <!-- Teléfono -->
                    <label for="phone" class="reg__date__age">Ingrese su celular:</label>
                    <label for="phone" class="text-danger"><%= locals.errors && locals.errors.name ? errors.phone.msg : null %> </label>
                    <div class="reg__ctrl-input mbt-4">
                        <input
                            type="tel"
                            placeholder="*Numero de telefono"
                            class="reg__input"
                            name="phone"
                            value="<%= (locals && locals.errors) ? old.phone : null %>"
                            pattern="^(\+\d{1,3})?\d{10}$"
                            title="Ingrese un teléfono válido. Ejemplo: 1122223333"
                            required
                        />
                    </div>

                    <!-- Correo electronico -->
                    <label for="email" class="reg__date__age">Ingrese su correo electronico:</label>
                    <label for="email" class="text-danger"><%= locals.errors && locals.errors.email ? errors.email.msg : null %> </label>
                    <div class="reg__ctrl-input mbt-4">
                        <input
                            type="email"
                            placeholder="*Correo electronico"
                            class="reg__input"
                            name="email"
                            value="<%= (locals && locals.errors) ? old.email : null %>"
                            pattern="^(([^<>()\[\]\\.,;:\s@”]+(\.[^<>()\[\]\\.,;:\s@”]+)*)|(“.+”))@((\[[0–9]{1,3}\.[0–9]{1,3}\.[0–9]{1,3}\.[0–9]{1,3}])|(([a-zA-Z\-0–9]+\.)+[a-zA-Z]{2,}))$"
                            title="Formato de email invalido."
                            required
                        />
                    </div>
                    <label for="email" class="reg__date__age">Repita su correo electronico:</label>
                    <div class="reg__ctrl-input mbt-4">
                        <input type="email" placeholder="*Repetir correo electronico" class="reg__input" name="email-repeat" 
                            pattern="^(([^<>()\[\]\\.,;:\s@”]+(\.[^<>()\[\]\\.,;:\s@”]+)*)|(“.+”))@((\[[0–9]{1,3}\.[0–9]{1,3}\.[0–9]{1,3}\.[0–9]{1,3}])|(([a-zA-Z\-0–9]+\.)+[a-zA-Z]{2,}))$"
                            title="Formato de email invalido."
                            required/>
                    </div>

                    <!-- Contraseña -->
                    <label for="password" class="reg__date__age">Ingrese una contraseña:</label>
                    <label for="password" class="text-danger"><%= locals.errors && locals.errors.password ? errors.password.msg : null %> </label>
                    <div class="reg__ctrl-input mbt-4">
                        <input
                            type="password"
                            placeholder="*Contraseña"
                            class="reg__input"
                            name="password"
                            pattern="^(?=\w*\d)(?=\w*[A-Z])(?=\w*[a-z])\S{8,16}$"
                            title="La contraseña debe tener entre 8 y 16 caracteres, al menos un número, una minúscula y una mayúscula."
                            required
                        />
                    </div>

                    <!-- Contraseña2 -->
                    <label for="password2" class="reg__date__age">Repita la contraseña:</label>
                    <label for="password2" class="text-danger"><%= locals.errors && locals.errors.password2 ? errors.password2.msg : null %> </label>
                    <div class="reg__ctrl-input mbt-4">
                        <input
                            type="password"
                            placeholder="*Repetir contraseña"
                            class="reg__input"
                            name="password2"
                            pattern="^(?=\w*\d)(?=\w*[A-Z])(?=\w*[a-z])\S{8,16}$"
                            title="La contraseña debe tener entre 8 y 16 caracteres, al menos un número, una minúscula y una mayúscula."
                            required
                        />
                    </div>

                    <!-- Paises -->
                    <label for="country" class="reg__date__age">Seleccione su país:</label>
                    <label for="country" class="text-danger"><%= locals.errors && locals.errors.country ? errors.country.msg : null %> </label>
                    <div class="reg__ctrl-input mbt-4">
                        <select name="country" class="reg__input" 
                        pattern="^[A-Za-zñÑáÁéÉiÍóÓúüÚÜ]{2,20}(\s+[A-Za-zñÑáÁéÉiÍóÓúüÚÜ]{2,20}){0,2}$"
                        title="Elige un país de la lista"
                        required>
                            <option value="" selected>*Pais</option>
                            <option value="Argentina">Argentina</option>
                            <option value="Croacia">Croacia</option>
                            <option value="Costa Rica">Costa Rica</option>
                        </select>
                    </div>

                    <!-- Provincias -->
                    <label for="state" class="reg__date__age">Seleccione su provincia:</label>
                    <label for="state" class="text-danger"><%= locals.errors && locals.errors.state ? errors.state.msg : null %> </label>
                    <div class="reg__ctrl-input mbt-4">
                        <select name="state" class="reg__input"
                        pattern="^[A-Za-zñÑáÁéÉiÍóÓúüÚÜ]{2,20}(\s+[A-Za-zñÑáÁéÉiÍóÓúüÚÜ]{2,20}){0,2}$"
                        title="Elige un Provincia/Estado de la lista"
                        required>
                            <option value="" selected>*Provincia/Estado</option>
                            <option value="Buenos Aires">Buenos Aires</option>
                            <option value="Cordoba">Cordoba</option>
                            <option value="Santa Fe">Santa Fe</option>
                        </select>
                    </div>

                    <!-- Ciudades -->
                    <label for="city" class="reg__date__age">Seleccione su ciudad:</label>
                    <label for="city" class="text-danger"><%= locals.errors && locals.errors.city ? errors.city.msg : null %> </label>
                    <div class="reg__ctrl-input mbt-4">
                        <select name="city" class="reg__input"
                        pattern="^[A-Za-zñÑáÁéÉiÍóÓúüÚÜ]{2,20}(\s+[A-Za-zñÑáÁéÉiÍóÓúüÚÜ]{2,20}){0,2}$"
                        title="Elige una ciudad de la lista"
                        required>
                            <option value="" selected>*Ciudad</option>
                            <option value="CABA">CABA</option>
                            <option value="La Matanza">La Matanza</option>
                            <option value="Rosario">Rosario</option>
                        </select>
                    </div>

                    <!-- Calle -->
                    <label for="street" class="reg__date__age">Ingrese su calle:</label>
                    <label for="street" class="text-danger d-none"><%= locals.errors && locals.errors.street ? errors.street.msg : null %> </label>
                    <div class="reg__ctrl-input mbt-4">
                        <input
                            type="text"
                            placeholder="*Calle"
                            class="reg__input"
                            name="street"
                            value="<%= (locals && locals.errors) ? old.street :null %>"
                            pattern="^.{3,100}$"
                            title="Debe ingresar una calle valida"
                            required
                        />
                    </div>

                    <!-- Altura -->
                    <label for="streetNumber" class="reg__date__age">Ingrese la altura:</label>
                    <label for="streetNumber" class="text-danger d-none"
                        ><%= locals.errors && locals.errors.streetNumber ? errors.streetNumber.msg : null %>
                    </label>
                    <div class="reg__ctrl-input mbt-4">
                        <input
                            type="number"
                            placeholder="*Altura"
                            class="reg__input"
                            name="streetNumber"
                            value="<%= (locals && locals.errors) ? old.streetNumber : null %>"
                            pattern="^[0-9]{1,5}$"
                            title="Debe ingresar una altura valida (Solo número)"
                            required
                        />
                    </div>

                    <!-- Descripcion domicilio -->
                    <label for="description" class="reg__date__age">Ingrese la descripción de su domicilio:</label>
                    <label for="description" class="error-input"><%= locals.errors && locals.errors.name ? errors.description.msg : null %> </label>
                    <div class="reg__ctrl-textarea mbt-4">
                        <textarea
                            name="description"
                            class="text__area"
                            placeholder="*Escriba una descripcion de su domicilio"
                            value="<%= (locals && locals.errors) ? old.description : null %>"
                            data-pattern="^.{10,255}$"
                            title="La descripción debe tener un minimo de 10 carácteres y un máximo de 255."
                            required
                        ></textarea>
                    </div>

                    <!-- Terminos y condiciones de uso -->

                    <div class="f-display f-main-between">
                        <div class="ctrl-checkbox">
                            <input type="checkbox" id="chk-keep" class="chk-keep d-none" name="terms" />
                            <label for="chk-keep" class="checkbox">
                                Acepto los <a href="#">términos y condiciones </a> y autorizo el uso de mis datos deacuerdo a la
                                <a href="#">Declaracion de privacidad</a>
                            </label>
                            <p class="error-input"><%= locals.errors && locals.errors.terms ? errors.terms.msg : null %></p>
                        </div>
                    </div>

                    <nav class="f-display f-main-between reg__navbottom f-grow-1 f-cross-end my-5">
                        <a class="no-decor" href="/home">
                            <div class="button button-rojo reg__navbutton">
                                <i class="fas fa-times"></i>
                            </div>
                        </a>
                        <div class="button button-verde reg__navbutton">
                            <button type="submit" class="button button-verde reg__navbutton"><i class="fas fa-check"></i></button>
                        </div>
                    </nav>
                </form>
            </div>
        </div>
        <script src="/js/register.js" type="module"></script>
    </body>
</html>
